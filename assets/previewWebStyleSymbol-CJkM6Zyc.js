import{a6 as c,ek as d,el as m,em as o}from"./index-BU6th8yW.js";async function g(e,i,a){var l;const s=(l=e.thumbnail)==null?void 0:l.url;if(s){const t=u((await c(s,{responseType:"image"})).data,a);return a!=null&&a.node?(a.node.appendChild(t),a.node):t}const h=await e.fetchSymbol({acceptedFormats:d});return h?i(h,a):null}function u(e,i){const a=!/\\.svg$/i.test(e.src)&&(i==null?void 0:i.disableUpsampling),s=Math.max(e.width,e.height);let h=(i==null?void 0:i.maxSize)!=null?m(i.maxSize):o.maxSize;a&&(h=Math.min(s,h));const l=typeof(i==null?void 0:i.size)=="number"?i==null?void 0:i.size:null,t=Math.min(h,l!=null?m(l):s);if(t!==s){const r=e.width!==0&&e.height!==0?e.width/e.height:1;r>=1?(e.width=t,e.height=t/r):(e.width=t*r,e.height=t)}return e}export{g as previewWebStyleSymbol};
